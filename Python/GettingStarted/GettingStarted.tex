\lab{Python}{Getting Started}{Getting Started}
\objective{Introduce basic coding procedures and objects usage in Python.}
\label{lab:Essential_Python}

\section*{Python}
Python is a powerful general-purpose programming language. As an interpreted
language, it can be used interactively. 
It is quickly gaining momentum as a fundamental tool in scientific computing because it has the following features:
\begin{itemize}
\item Clear, readable syntax
\item Full object orientation
\item Complete memory management (via garbage collection)
\item High level, dynamic datatypes
\item Extensibility via C
\item Ability to interface with other languages such as R, C, C++, and Fortran
\item Embeddability in applications
\item Portability across many platforms (Linux, Windows, Mac OSX)
\item Open source
\end{itemize}
In addition to these, Python is freely available and can also be freely distributed.

\section*{Running Python}
Python 2.7 is required for the labs in this text and can be downloaded from \url{http://www.python.org/}. Although later versions of 
Python are available, they do not have many of the features needed for scientific computing. 

Many free IDEs (Integrated Development Environments) and text editors are compatible with Python. We recommend you use IPython, which provides three different interfaces: commandline, QTConsole, and Notebook. You can open these interfaces by running \li{ipython}, \li{ipython qtconsole}, or \li{ipython notebook} respectively.
The commandline interface is the simplest of the three, as it merely adds colored syntax to the text in the terminal window.
The QTConsole provides some extra features not available in the commandline interface.
The Notebook interface has the most features and is displayed in a web browser.

For more information on installing Python and various libraries, see Appendices \ref{win64install} and \ref{pythoninstall}.


\section*{Learning Python}
The remainder of this lab will introduce you to some basic Python data types and control flow blocks. The text for this lab is intended to tell you just enough so that you can create these objects and experiment with them. Each section has additional required readings, listed at its end. Moreover, as you begin your study of Python, we \emph{strongly} suggest you read the following:
\begin{enumerate}
\item Chapters 3, 4, and 5 of the Official Python Tutorial \\
        (\url{http://docs.python.org/2.7/tutorial/introduction.html}).
\item Section 1.2 of the SciPy Lecture Notes\\
        (\url{http://scipy-lectures.github.io/}).
\item PEP8 - Python Style Guide \\
        (\url{http://www.python.org/dev/peps/pep-0008/}).
\end{enumerate}

In addition to these resources, there are other ways to learn Python. One useful aspect of the IPython interfaces is \emph{object introspection}, which allows you to see all the methods associated to an object. Also, you can use a question mark to learn about an object or method.

\begin{lstlisting}
# You can use a pound sign to write a single-line comment.

# To see the methods associated to an object, type the object name followed by a period, and press tab.
>>> list.
list.append   list.extend   list.insert   list.pop      list.reverse  
list.count    list.index    list.mro      list.remove   list.sort

# To learn about a method, use "?".
>>> list.append?
Type:       method_descriptor
Base Class: <type 'method_descriptor'>
String Form:<method 'append' of 'list' objects>
Namespace:  Python builtin
Docstring:  L.append(object) -- append object to end
\end{lstlisting}

Finally, if you cannot answer your question using these strategies, try googling it. Many common questions about Python programming have been answered on internet forums.

\section*{Data Types}
\subsection*{Numerical Types}
There are four numerical data types, \li{int}, \li{long}, 
\li{float}, and \li{complex}, each of which stores a certain kind of number. 

\begin{lstlisting}
>>> type(3)
int

>>> type(3.0)
float
\end{lstlisting}

Python can be used as a calculator. Use \li{**} for exponentiation.
\begin{lstlisting}
>>> 3**2 + 2*5
19
\end{lstlisting}

We can also create and manipulate variables with Python.

\begin{lstlisting}
# Use a SINGLE equals sign to create a variable.
>>> x = 12
>>> y = 2 * 6

# Use a DOUBLE equals sign to check equality of variables.
>>> x == y
True
\end{lstlisting}

Required readings: 
\begin{itemize}
\item \url{http://scipy-lectures.github.io/intro/language/basic_types.html#numerical-types}
\item \url{https://docs.python.org/2.7/tutorial/introduction.html#numbers}
\item \url{https://docs.python.org/2.7/library/stdtypes.html#typesnumeric}
\end{itemize}

\begin{problem}
Use the required readings and the strategies listed in the section ``Learning Python'' to help you answer the questions in this lab.
\begin{enumerate}

\item How do you convert an integer to a float? (This is called \emph{casting}.)
\item What are the two ways to create a complex number? 
How do you extract the real part or the imaginary part?
\item The way the operator \li{/} behaves depends on the types of its operands. 
\begin{enumerate}
\item Why does \li{7/3} return 2? 
\item How can you get decimal answers to a division problem like $7/3$? 
\item How can you get integer answers when you divide floats?
\end{enumerate}
\end{enumerate}
\end{problem}




\subsection*{Strings}
A Python \li{string} can be created with either single or double quotes. They can be concatenated with the \li{+} operator.
\begin{lstlisting}
>>> str1 = "I love"
>>> str2 = 'the ACME program'
>>> my_string = str1 + " " + str2 + "!"
>>> mystring
'I love the ACME program!'
\end{lstlisting}

We can access single characters of strings using brackets and a range of characters using \emph{slicing}. Slicing syntax is \li{[start:stop:step]}. The parameters \li{start} and \li{stop} default to the beginning and end of the string, respectively. The parameter \li{step} defaults to 0. For more information on slicing, see the section ``Lists.''

\begin{lstlisting}
# Indexing begins at 0 and negative numbers count backwards from the end.
>>> my_string[-1]
'!'

# Pick out every other character in a string.
>>> my_string[::2]	# string[start:stop:step]
'Ilv h CEporm'
\end{lstlisting}

Required readings: 
\begin{itemize}
\item \url{http://scipy-lectures.github.io/intro/language/basic_types.html#strings}
\item \url{https://docs.python.org/2.7/tutorial/introduction.html#strings}
\end{itemize}

\begin{problem}
Answer the following questions about strings.
\begin{enumerate}
\item Suppose \li{my_string = "I love the new ACME program\!"}. What output is produced by \li{my_string[::3]} and \li{my_string[::-1]}? 
\item How can you print a \li{string} backwards?
\end{enumerate}
\end{problem}


\subsection*{Lists}
A Python \li{list} is created by enclosing comma-separated values with square brackets. You can access a single entry of a \li{list} or a range of entries with the same indexing or slicing operations as we used on strings. 
\begin{lstlisting}
>>> my_list = ["Remi", 21, "08/06", 1993]
>>> my_list
['Remi', 21, '08/06', 1993]
>>> my_list[-2]
'08/06'
\end{lstlisting}

Whenever possible, you should create your lists using a \emph{list comprehension}, which is demonstrated below.
\begin{lstlisting}
# The command range(n) produces the list [0, 1, 2, . . . , n-1].
>>> [x**2 for x in range(10)]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
\end{lstlisting}



Required readings: 
\begin{itemize}
\item \url{http://scipy-lectures.github.io/intro/language/basic_types.html#lists} 
\item \url{https://docs.python.org/2.7/tutorial/introduction.html#lists}
\item \url{https://docs.python.org/2.7/tutorial/datastructures.html#list-comprehensions}
\end{itemize}

\begin{problem}
Answer the following questions about lists.

\begin{enumerate}
\item If \li{my_list = ["mushrooms", "rock climbing", 1947, 1954, "yoga"]}, write a sequence of commands that does the following:
\begin{enumerate}
\item Finds the length of the list,
\item Appends ``Jonathan, my pet fish'' to the end of the list,
\item Inserts \li{'pizza'} at index 3, and
\item Clears the entire list.
\end{enumerate}
\item Write a sequence of commands that does the following:
\begin{enumerate}
\item Creates an empty list called \li{num},
\item Adds the integers \li{3}, \li{5}, \li{19}, \li{20}, and \li{4} to \li{num},
\item Replaces the integer at index 3 with itself converted to a string,
\item Removes the integer at index 2, and
\item Sorts \li{num} backwards.
\end{enumerate}
\item Using a list comprehension, create a list that has the elements of \li{num} converted into strings. For example, if \li{num = [ 5, 4, 3, 2, 1]}, write a list comprehension that outputs \li{num=['5', '4', '3', '2', '1']}.
\end{enumerate}

\end{problem}


\subsection*{Sets}
A Python \li{set} is an unordered collection of distinct objects, and can be created from a list. We can add or remove members from a set after its creation.
\begin{lstlisting}
>>> gym_members = set(["Doe, John", "Doe, John", "Smith, Jane", "Brown, Bob"])
>>> gym_members
set(['Brown, Bob', 'Doe, John', 'Smith, Jane'])
>>> gym_members.discard("Doe, John");
>>> gym_members
set(['Brown, Bob', 'Smith, Jane'])
>>> gym_members.add("Lytle, Josh")
>>> gym_members
set(['Brown, Bob', 'Lytle, Josh', 'Smith, Jane'])
\end{lstlisting}

Like mathematical sets, a \li{set} has operations like union, intersection, 
difference, and symmetric difference.

\begin{lstlisting}
# Set intersection returns a new set object.
>>> library_members = set(["Lytle, Josh", "Henriksen, Ian", "Grout, Ryan"])
>>> set.intersection(gym_members, library_members)
set(['Lytle, Josh'])
\end{lstlisting}

Required readings: 
\begin{itemize}
\item \url{http://scipy-lectures.github.io/intro/language/basic_types.html#more_container_types}
\item \url{https://docs.python.org/2.7/tutorial/datastructures.html#sets}
\end{itemize}

\begin{problem}
Answer the following questions about sets.
\begin{enumerate}
\item What are two ways to create sets? How do you create an empty set?
\item Define two sets and use a Python command to find their union.
\end{enumerate}
\end{problem}

\subsection*{Dictionaries}
Like a \li{set}, a Python \li{dictionary} is an unordered data type.  A \li{dictionary} stores \li{key:value} pairs, which are called \emph{items}. The values of a dictionary are indexed by its keys.
\begin{lstlisting}
>>> tel = {"marriott": 4121, "math": 2061, "visual arts" : 7321} 
>>> tel["math"]
2061
\end{lstlisting}

The keys of a dictionary must be \emph{immutable}, which means that they must be objects that cannot be modified after creation. Numerical types and strings are immutable objects. Lists, dictionaries, and sets are mutable.

Required readings:
\begin{itemize}
\item \url{http://scipy-lectures.github.io/intro/language/basic_types.html#dictionaries}
\item \url{https://docs.python.org/2.7/tutorial/datastructures.html#dictionaries}
\end{itemize}

\begin{problem}
Answer the following questions about dictionaries.
\begin{enumerate}
\item What are two ways to create dictionaries? How do you create an empty dictionary?
\item How do you delete a key-value pair from a dictionary?
\item How do you access a list of all the values in your dictionary?  
How do you access a list of all the items?
\end{enumerate}
\end{problem}


\section*{Control Flow Tools}
Control flow blocks control the order in which your code is executed.
Python supports the usual control flow statements 
including while loops, if statements, for loops, and function definitions. For examples besides those in this lab, see the following resources:

\begin{itemize}
\item Sections 1.2.3.1-1.2.3.4 of \url{http://scipy-lectures.github.io/intro/language/control_flow.html}
\item \url{http://scipy-lectures.github.io/intro/language/functions.html}
\item \url{https://docs.python.org/2.7/tutorial/introduction.html#first-steps-towards-programming}
\item Sections 4.1-4.3, 4.6, and 4.7.1-4.7.2 of \url{https://docs.python.org/2.7/tutorial/controlflow.html}
\end{itemize}

\subsection*{The While Loop}
Python uses indentation to identify the beginning and end of blocks of code, so you must indent each line of an execution block the same way.
The convention is to indent blocks of code with four spaces. A \li{while} loop executes an indented block of code \emph{while} the given condition holds. 

\begin{lstlisting}
>>> i = 0
>>> while i < 10:           # The colon is required.
...     print i,             # This indented line is executed if b<10.
...     i = i+1       # This indented line is also executed if b<10.
...     
0 1 2 3 4 5 6 7 8 9
\end{lstlisting}
In the above example, the comma in the line \li{print i,} makes Python print all the numbers on the same line (by stripping off newline characters). Try running this example without the comma and see what happens.


\subsection*{The If Statement}
An \li{if} statement executes the 
indented code \emph{if} the given condition holds.
The \li{elif} statement is short for ``else if'' and can be used multiple times following an \li{if} statement, or not at all. 
The \li{else} keyword may be used at most once at the end of a series of \li{if}/\li{elif} statements.
\begin{lstlisting}
>>> food = "bagel"         # Use a SINGLE equals sign create variables
>>> if food == "apple":    # Use a DOUBLE equals sign to check equality
...     print "72 calories"
... elif food == "banana":
...     print "105 calories"
... elif food == "egg":
...     print "102 calories"
... else: 
...     print "calorie count unavailable"
...     
calorie count unavailable
\end{lstlisting}


\subsection*{The For Loop}
A \li{for} loop iterates over the items in any \emph{iterable}. Iterables include lists, sets, and dictionaries.

\begin{lstlisting}
>>> for i in range(10):
...     print i,
...     
0 1 2 3 4 5 6 7 8 9
\end{lstlisting}


\subsection*{Function Definition}
To define a function, use the \li{def} keyword followed by the function name and a parenthesized list of formal parameters. Then indent the function body.
\begin{lstlisting}
# Compute the area of a rectangle
>>> def area(width, height):
...     return width*height
...         
>>> area(2, 5)
10
\end{lstlisting}

We define a function with \emph{parameters} and call it with \emph{arguments}.
In the example above, \li{width} and \li{height} are parameters for the function \li{area}. The values \li{2} and \li{5} are the arguments that we pass when calling the function. In practice, the terms \emph{parameter} and \emph{argument} are often used interchangeably.

It is also possible to specify default values for formal parameters, as in the following example.
\begin{lstlisting}
>>> def fn(a, b, c=0):
...    print a, b, c
\end{lstlisting}
The function \li{fn} has three formal parameters, and the value of \li{c} defaults to 0.
We can pass arguments to \li{fn} based on position (positional arguments) or name (named arguments or keyword arguments). We must define positional arguments before keyword arguments.
\begin{lstlisting}
# Call fn with 2 positional arguments (c=0 by default)
>>> fn(1, 2)
1 2 0

# Call fn with 3 positional arguments
>>> fn(4, 5, 6)
4 5 6

# Call fn with 1 positional argument and 2 named arguments
>>> fn(1, c=2, b=3)
1 3 2
\end{lstlisting}
The final example demonstrates the flexibility of Python but is somewhat confusing. Whenever possible, you should pass arguments to a function in the order they are defined in the function. Thus, do the following.
\begin{lstlisting}
# Call fn with 1 positional argument and 2 named arguments
>>> fn(1, b=3, c=2)
1 3 2
\end{lstlisting}



\begin{problem}
Define the following function in your interpreter.
\begin{lstlisting}
>>> def track(n, my_list=[]):
...    my_list.append(n)
...    return my_list
\end{lstlisting}
\begin{enumerate}
\item Now execute the following commands in your interpreter: \li{track(1)}, \li{track(2)}, \li{track(3)} and  \li{track(1, [1, 2, 3])}. What outputs do you get?
\item The default values of a function are only evaluated once.
This means that when you call \li{track} with the default value for \li{my_list}, the same list is used each time.
Modify \li{track} so that the default value for \li{my_list} is not shared between calls.
With your modified function, the outputs in part (a) should be \li{[1]}, \li{[2]}, \li{[3]} and \li{[1, 2, 3, 1]}. Hint: Read here about the Python constant \li{None}: \url{https://docs.python.org/2/library/constants.html}.
\end{enumerate}
\end{problem}

The most general form of a function definition is as follows.
\begin{lstlisting}
def fn(*args, **kwargs):
\end{lstlisting}
This means that ``\li{fn} takes some arguments and keyword arguments.''
The arguments, \li{args}, are stored as a tuple; and the keyword arguments, \li{kwargs}, are stored in a dictionary.
The function \li{fn} can accept any number of arguments and keyword arguments.
\begin{lstlisting}
>>> def fn(*args, **kwargs):
...     print "Positional: ", args
...     print "Keyword: ", kwargs
...     
>>> fn("Hello", 2, 1, apples = 3, oranges = 2)
Positional: ('Hello', 2, 1)
Keyword: {'apples': 3, 'oranges': 2}
\end{lstlisting}

\begin{problem}

\begin{enumerate}
\item Explain what the \li{print} and \li{return} statements do. How are they different?
\item Modify the code below so that it produces the desired output.
\begin{lstlisting}
Grocery List = ['pineapple', 'orange juice', "avocados", "pesto sauce"]
for i in range(Grocery List)
if i % 2 = 0
print i, Grocery List(i)
\end{lstlisting}
Desired output:
\begin{lstlisting}
0 pineapple
2 avocados
\end{lstlisting}
\item When you call the function ``groceries'' below, it returns an error. Why?
\begin{lstlisting}
>>> def groceries(food, drink):
...     print food
...     print drink    

>>> groceries(food="Bananas", "Juice")
\end{lstlisting}
\end{enumerate}
\end{problem}


\begin{comment}
\section*{Specifications}
We suggest that you submit your solutions in a file called \li{solutions.py}, using the following format.
\lstinputlisting[language=, abovecaptionskip=2pt, belowcaptionskip=2pt]{template.txt}
\end{comment}